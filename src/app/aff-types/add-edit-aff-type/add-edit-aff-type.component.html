<cdk-accordion class="accordion">
  <cdk-accordion-item
    *ngFor="let affTypesSection of affTypesSections; let index = index"
    #accordionItem="cdkAccordionItem"
    class="accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-' + index"
    [attr.aria-expanded]="accordionItem.expanded"
    [attr.aria-controls]="'accordion-body-' + index"
  >
    <div class="accordion-item-header" (click)="accordionItem.toggle()">
      {{ affTypesSection }}
      <span class="accordion-item-description">
        <mat-icon
          aria-hidden="false"
          fontIcon="expand_more"
          *ngIf="accordionItem.expanded === false"
        ></mat-icon
        ><mat-icon
          aria-hidden="false"
          fontIcon="close"
          *ngIf="accordionItem.expanded"
        >
        </mat-icon>
        <mat-icon
          aria-hidden="false"
          fontIcon="check_circle_outline"
          *ngIf=""
        >
        </mat-icon>
      </span>
    </div>
    <div
      class="accordion-item-body"
      role="region"
      [style.display]="accordionItem.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-' + index"
      [attr.aria-labelledby]="'accordion-header-' + index"
    >
      <!-- Content accordion start -->

      <app-new-aff-type
        *ngIf="index === 0"
        (affTypeFormAddNewAffTypeEvent)="addItem($event)"
        ></app-new-aff-type
      >
      <app-categories
        *ngIf="index === 1"
        (affTypeFormCategoriesEvent)="addItem($event)"
      ></app-categories>
      <app-commission-type *ngIf="index === 2"></app-commission-type>
      <app-tiered-aff-display-options
        *ngIf="index === 3"
      ></app-tiered-aff-display-options>
      <app-other *ngIf="index === 4"></app-other>
    </div>
  </cdk-accordion-item>
</cdk-accordion>

<!-- Button -->
<div class="btn-box">
  <button type="submit" mat-button class="add-btn" (click)="onSubmit()">
    Add New Affiliate Type
  </button>
</div>
